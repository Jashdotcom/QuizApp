# ====================================
# Production Profile Configuration
# ====================================
# IMPORTANT: Update these values before deploying to production

# ====================================
# Database Configuration (PostgreSQL)
# ====================================
spring.datasource.url=jdbc:postgresql://your-db-host:5432/quizapp_prod
spring.datasource.username=your_prod_username
spring.datasource.password=your_secure_prod_password
spring.datasource.driver-class-name=org.postgresql.Driver

# Connection pool settings
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# ====================================
# JPA Configuration
# ====================================
# NEVER use 'create-drop' in production!
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.batch_size=20

# ====================================
# Logging Configuration
# ====================================
logging.level.root=WARN
logging.level.com.example.quizzapp=INFO
logging.level.org.hibernate.SQL=WARN
logging.level.org.springframework.web=WARN
logging.level.org.springframework.security=WARN

# Log to file
logging.file.name=/var/log/quizapp/application.log
logging.file.max-size=10MB
logging.file.max-history=30

# ====================================
# JWT Configuration
# ====================================
# CRITICAL: Use a strong, randomly generated secret key!
# Generate with: openssl rand -base64 64
quizapp.jwtSecret=${JWT_SECRET:CHANGE_THIS_TO_STRONG_RANDOM_SECRET_AT_LEAST_256_BITS}
quizapp.jwtExpirationMs=3600000

# ====================================
# Security Configuration
# ====================================
# Disable default security for custom implementation
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration

# ====================================
# Thymeleaf Configuration
# ====================================
spring.thymeleaf.cache=true
spring.thymeleaf.check-template-location=true

# ====================================
# Server Configuration
# ====================================
server.port=${PORT:8080}
server.error.include-stacktrace=never
server.error.include-message=never
server.error.whitelabel.enabled=false

# SSL/TLS Configuration (if using HTTPS)
# server.ssl.enabled=true
# server.ssl.key-store=classpath:keystore.p12
# server.ssl.key-store-password=your_keystore_password
# server.ssl.key-store-type=PKCS12
# server.ssl.key-alias=tomcat

# ====================================
# Application Configuration
# ====================================
spring.application.name=QuizApp
spring.main.banner-mode=off

# ====================================
# Production Optimizations
# ====================================
spring.jpa.open-in-view=false
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false

# ====================================
# File Upload Configuration
# ====================================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB
